<div id="sidebar" class="sidebar">
    <button id="sidebar-toggle" class="sidebar-toggle">â˜°</button>
    <div class="sidebar-content">
        <h3>Table of Contents</h3>
        <nav id="toc">
            <!-- Table of contents will be populated by JavaScript -->
        </nav>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const sidebar = document.getElementById('sidebar');
    const sidebarToggle = document.getElementById('sidebar-toggle');
    const toc = document.getElementById('toc');
    
    // Toggle sidebar
    sidebarToggle.addEventListener('click', () => {
        sidebar.classList.toggle('open');
    });

    // Generate table of contents
    const headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6');
    headings.forEach((heading, index) => {
        // Add ID to heading if it doesn't have one
        if (!heading.id) {
            heading.id = `heading-${index}`;
        }

        // Create link
        const link = document.createElement('a');
        link.href = `#${heading.id}`;
        link.textContent = heading.textContent;
        
        // Create list item with appropriate indentation
        const li = document.createElement('li');
        li.style.marginLeft = `${(parseInt(heading.tagName[1]) - 1) * 1.5}rem`;
        li.appendChild(link);
        
        // Add to TOC
        toc.appendChild(li);
    });
});
</script> 